<html>
<head>
    <title>Chronos Project - Simulator</title>

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/sockjs-0.3.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/targets.css"rel="stylesheet">

</head>
<body>
<div class="col-sm-12">


<div id="container" class="data-close controls-close set-speed view-2D zoom-close">
    
<div class="row">
    <div id="navbar">

      <h1>Choose your destination</h1>

    </div>
</div>
<div class="row" style="margin-top:20px;">
    <div id="data" style="padding-top:45px;">
    <div class="row" >
      {% for t in targets %}
      {% if t['slug'] == 'earth' %}
      <a class="{{escape(t['slug'])}} active" title="{{escape(t['slug'])}}" href="#{{escape(t['slug'])}}speed?target={{escape(t['slug'])}}">{{escape(t['name'])}}</a>
      {% else %}
      <a class="{{escape(t['slug'])}}" title="{{escape(t['slug'])}}" href="#{{escape(t['slug'])}}speed?target={{escape(t['slug'])}}">{{escape(t['name'])}}</a>
      {% end %}
      {% end %}
    </div>
    <hr>
    <div class="row">
      <a class="btn btn-primary" title="go" href="/">Design Mission</a>  
    </div>
    </div>
</div>
<div class="row" style="height:85%;" style="margin-bottom:40px;">
    <div id="controls" style="width:350px; height:60%;border:1px solid #FFF;">
        <h2>Infos/Image from REST endpoints</h2>
    </div>
    <div id="universe" class="scale-stretched">
      <div id="galaxy">
        <div id="solar-system" class="earth">
          <div id="mercury" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="venus" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="earth" class="orbit">
            <div class="pos">
              <div class="orbit">
                <div class="pos">
                  <div class="moon"></div>
                </div>
              </div>
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="mars" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="jupiter" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="saturn" class="orbit">
            <div class="pos">
              <div class="planet">
                <div class="ring"></div>
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="uranus" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="neptune" class="orbit">
            <div class="pos">
              <div class="planet">
                <dl class="infos">
                  <dd><span></span></dd>
                </dl>
              </div>
            </div>
          </div>
          <div id="sun">
            <dl class="infos">
              <dd><span></span></dd>
            </dl>
          </div>
        </div>
      </div>
    </div>
</div> <!-- close row -->

</div><!-- close container -->
</div> <!-- close col-sm-12 -->

<script type="text/javascript">

$(window).load(function(){

/* Opening Socket */

msg = 'shake hand ' + Math.random();

function connect(url, auth_json) {
    var sock = new SockJS(url);
    sock.onopen = function() {
        console.log(msg)
        sock.send(auth_json);
    };
    sock.onmessage =  function (event) {
        data = jQuery.parseJSON(event.data);
        console.log(data)
    };
}

connect("http://127.0.0.1:8080/connect", msg);

/* Info Updating */

  var solarsys = $("#solar-system");

  $("#data .row a").click(function(e) {
    var ref = $(this).attr("class");
    solarsys.removeClass().addClass(ref);
    $(this).parent().find('a').removeClass('active');
    $(this).addClass('active');

    //$.getJSON( "ajax/test.json", function( data ) {});
    
    e.defaultPrevented;
  });


});

</script>

<style type="text/css">
/*
  Copyright (c) 2012 Julian Garnier
  Licensed under the MIT license
  @JulianGarnier
*/

/* --------------------------------------------------------------------------- text infos data */

/* --------------------------------------------------------------------------- speed, circum, distances */

.set-speed #sun dl.infos dd:after {
  content: 'Orbit Velocity: 0 km/h \A Equatorial Circum.: 4,370,005 km \A Distance From Sun: 0 Km \A From Earth: 149,598,262 km';
  white-space: pre; }

.set-speed #mercury dl.infos dd:after {
  content: 'Orbit Velocity: 170,503 km/h \A Equatorial Circum.: 15,329 km \A Distance From Sun: 57,909,227 km \A From Earth: np'; 
  white-space: pre;}

.set-speed #venus dl.infos dd:after {
  content: 'Orbit Velocity: 126,074 km/h \A Equatorial Circum.: 38,024 km \A Distance From Sun: 108,209,475 km \A From Earth: np'; 
  white-space: pre; }

.set-speed #earth dl.infos dd:after {
  content: 'Orbit Velocity: 107,218 km/h \A Equatorial Circum.: 40,030 km \A Distance From Sun: 149,598,262 km \A From Earth: 0 Km'; 
  white-space: pre; }

.set-speed #mars dl.infos dd:after {
  content: 'Orbit Velocity: 86,677 km/h \A Equatorial Circum.: 21,296 km \A Distance From Sun: 227,943,824 km \A From Earth: np'; 
  white-space: pre; }

.set-speed #jupiter dl.infos dd:after {
  content: 'Orbit Velocity: 47,002 km/h \A Equatorial Circum.: 439,263 km \A Distance From Sun: 778,340,821 km \A From Earth: np'; 
  white-space: pre; } 

.set-speed #saturn dl.infos dd:after {
  content: 'Orbit Velocity: 34,701 km/h \A Equatorial Circum.: 365,882 km \A Distance From Sun: 1,426,666,422 km \A From Earth: np'; 
  white-space: pre;}

.set-speed #uranus dl.infos dd:after {
  content: 'Orbit Velocity: 24,477 km/h \A Equatorial Circum.: 159,354 km \A Distance From Sun: 2,870,658,186 km \A From Earth: np'; 
  white-space: pre;}

.set-speed #neptune dl.infos dd:after {
  content: 'Orbit Velocity: 19,566 km/h \A Equatorial Circum.: 154,704 km \A Distance From Sun: 4,498,396,441 km \A From Earth: np'; 
  white-space: pre;}

</style>

</body>
</html>

